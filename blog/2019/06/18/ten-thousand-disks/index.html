<!DOCTYPE html>
<head>
  <meta charset="utf-8">
  <title>TEN THOUSAND DISKS &mdash; Store Halfword Byte-Reverse Indexed</title>
  <meta name="author" content="OzLabs">

  <link href="https://sthbrx.github.io/rss.xml" type="application/rss+xml" rel="alternate"
        title="Store Halfword Byte-Reverse Indexed RSS Feed" />





  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">


    <link href="https://sthbrx.github.io/favicon.png" rel="icon">

  <link href="https://sthbrx.github.io/theme/css/main.css" media="screen, projection"
        rel="stylesheet" type="text/css">

  <link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">
  <link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic"
        rel="stylesheet" type="text/css">

  <script type="text/javascript">
document.addEventListener('DOMContentLoaded', function() {
  var ts = document.createElement('span')
  ts.className = 'toggle-sidebar'
  ts = document.getElementById('content').appendChild(ts);
  ts.addEventListener('click', function(e) {
    e.preventDefault();
    body = document.getElementsByTagName('body')[0];
    bodyClasses = body.classList.toggle('collapse-sidebar');
  });
  var sections = document.querySelectorAll('aside.sidebar > section');
  if (sections.length > 1) {
    for (index = 0; index < sections.length; index++) {
      section = sections[index];
      if ((sections.length >= 3) && index % 3 === 0) {
        section.classList.add("first");
      }
      var count = ((index +1) % 2) ? "odd" : "even";
      section.classList.add(count);
    }
  }
  if (sections.length >= 3) {
    document.querySelector('aside.sidebar').classList.add('thirds');
  }
});
  </script>
    <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-91189608-1', 'auto');

    ga('send', 'pageview');
    </script>
</head>

<body>
  <header role="banner"><hgroup>
  <h1><a href="https://sthbrx.github.io/">Store Halfword Byte-Reverse Indexed</a></h1>
    <h2>A Power Technical Blog</h2>
</hgroup></header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="https://sthbrx.github.io/rss.xml" rel="subscribe-rss">RSS</a></li>
</ul>


<ul class="main-navigation">
      <li class="active">
        <a href="https://sthbrx.github.io/category/development.html">Development</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/education.html">Education</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/openpower.html">OpenPOWER</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/performance.html">Performance</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/petitboot.html">Petitboot</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/snowpatch.html">snowpatch</a>
      </li>
      <li >
        <a href="https://sthbrx.github.io/category/virtualisation-and-emulation.html">Virtualisation and Emulation</a>
      </li>
</ul></nav>
  <div id="main">
    <div id="content">
<div>
  <article class="hentry" role="article">
<header>
      <h1 class="entry-title">TEN THOUSAND DISKS</h1>
    <p class="meta">
<time datetime="2019-06-18T16:47:00+10:00" pubdate>Tue 18 June 2019</time>    </p>
</header>

  <div class="byline_index">
<p class="meta">
  <span class="byline author vcard">
    Posted by <span class="fn">
          <a href="https://sthbrx.github.io/author/samuel-mendoza-jonas.html">Samuel Mendoza-Jonas</a>
    </span>
  </span>
<time datetime="2019-06-18T16:47:00+10:00" pubdate>Tue 18 June 2019</time>  <span class="categories">
    <a class='category' href='https://sthbrx.github.io/category/development.html'>Development</a>
  </span>
  <span class="categories">
    <a class="category" href="https://sthbrx.github.io/tag/linux.html">linux</a>,    <a class="category" href="https://sthbrx.github.io/tag/firmware.html">firmware</a>,    <a class="category" href="https://sthbrx.github.io/tag/goodposts.html">goodposts</a>,    <a class="category" href="https://sthbrx.github.io/tag/realcontent.html">realcontent</a>,    <a class="category" href="https://sthbrx.github.io/tag/madposting.html">madposting</a>,    <a class="category" href="https://sthbrx.github.io/tag/openpower.html">openpower</a>,    <a class="category" href="https://sthbrx.github.io/tag/testing.html">testing</a>,    <a class="category" href="https://sthbrx.github.io/tag/op-test.html">op-test</a>,    <a class="category" href="https://sthbrx.github.io/tag/qemu.html">qemu</a>,    <a class="category" href="https://sthbrx.github.io/tag/pci.html">pci</a>  </span>
</p>  </div>
  <div class="entry-content"><p>In OpenPOWER land we have a project called <a href="https://github.com/open-power/op-test-framework/">op-test-framework</a> which (for all its strengths and weaknesses) allows us to test firmware on a variety of different hardware platforms and even emulators like Qemu.</p>
<p>Qemu is a fantasic tool allowing us to relatively quickly test against an emulated POWER model, and of course is a critical part of KVM virtual machines running natively on POWER hardware. However the default POWER model in Qemu is based on the "pseries" machine type, which models something closer to a virtual machine or a PowerVM partition rather than a "bare metal" machine.</p>
<p>Luckily we have <a href="https://github.com/legoater">CÃ©dric Le Goater</a> who is <a href="https://github.com/legoater/qemu">developing and maintaining</a> a Qemu "powernv" machine type which more accurately models running directly on an OpenPOWER machine. It's an unwritten rule that if you're using Qemu in op-test, you've compiled this version of Qemu!</p>
<h2>Teething Problems</h2>
<p>Because the "powernv" type does more accurately model the physical system some extra care needs to be taken when setting it up. In particular at one point we noticed that the pretend CDROM and disk drive we attached to the model were.. not being attached. <a href="https://github.com/open-power/op-test-framework/commit/1a97bc92c6029cfda91f565face260b806c04d86">This commit</a> took care of that; the problem was that the <a href="https://github.com/legoater/qemu/wiki/PowerNV#complex-configuration">PCI topology</a> defined by the layout required us to be more exact about where PCI devices were to be added. By default only three spare PCI "slots" are available but as the commit says, "This can be expanded by adding bridges"...</p>
<h2>More Slots!</h2>
<p>Never one to stop at a just-enough solution, I wondered how easy it would be to add an extra PCI bridge or two to give the Qemu model more available slots for PCI devices. It turns out, easy enough once you know the correct invocation. For example, adding a PCI bridge in the first slot of the first default PHB is:</p>
<div class="highlight"><pre><span></span>-device pcie-pci-bridge,id=pcie.3,bus=pcie.0,addr=0x0
</pre></div>


<p>And inserting a device in that bridge just requires us to specify the bus and slot:</p>
<div class="highlight"><pre><span></span>-device virtio-blk-pci,drive=cdrom01,id=virtio02,bus=pcie.4,addr=3
</pre></div>


<p>Great! Each bridge provides 31 slots, so now we have plenty of room for extra devices.</p>
<h2>Why Stop There?</h2>
<p>We have three free slots, and we don't have a strict requirement on where devices are plugged in, so lets just plug a bridge into each of those slots while we're here:</p>
<div class="highlight"><pre><span></span>-device pcie-pci-bridge,id=pcie.3,bus=pcie.0,addr=0x0 \
-device pcie-pci-bridge,id=pcie.4,bus=pcie.1,addr=0x0 \
-device pcie-pci-bridge,id=pcie.5,bus=pcie.2,addr=0x0
</pre></div>


<p>What happens if we insert a new PCI bridge into another PCI bridge? Aside from stressing out our PCI developers, a bunch of extra slots! And then we could plug bridges into those bridges and then..</p>
<iframe src="https://giphy.com/embed/VB5WwlZIt8eRy" width="480" height="199" frameBorder="0" class="giphy-embed" allowFullScreen></iframe>

<p><br></p>
<p>Thus was born <a href="https://github.com/open-power/op-test-framework/commit/6e78eea78a2f2cf37ebdd2cccbd5b18a7050c1eb">"OpTestQemu: Add PCI bridges to support more devices."</a> and the testcase <a href="https://github.com/open-power/op-test-framework/blob/master/testcases/Petitboot10000Disks.py">"Petitboot10000Disks"</a>.
The changes to the Qemu model setup fill up each PCI bridge as long as we have devices to add, but reserve the first slot to add another bridge if we run out of room... and so on..</p>
<p>Officially this is to support adding interesting disk topologies to test Pettiboot use cases, stress test device handling, and so on, but while we're here... what happens with 10,000 temporary disks?</p>
<div class="highlight"><pre><span></span>======================================================================
ERROR: testListDisks (testcases.Petitboot10000Disks.ConfigEditorTestCase)
----------------------------------------------------------------------
Traceback (most recent call last):
  File &quot;/home/sam/git/op-test-framework/testcases/Petitboot10000Disks.py&quot;, line 27, in setUp
    self.system.goto_state(OpSystemState.PETITBOOT_SHELL)
  File &quot;/home/sam/git/op-test-framework/common/OpTestSystem.py&quot;, line 366, in goto_state
    self.state = self.stateHandlers[self.state](state)
  File &quot;/home/sam/git/op-test-framework/common/OpTestSystem.py&quot;, line 695, in run_IPLing
    raise my_exception
UnknownStateTransition: Something happened system state=&quot;2&quot; and we transitioned to UNKNOWN state.  Review the following for more details
Message=&quot;OpTestSystem in run_IPLing and the Exception=
&quot;filedescriptor out of range in select()&quot;
 caused the system to go to UNKNOWN_BAD and the system will be stopping.&quot;
</pre></div>


<p>Yeah that's probably to be expected without some more massaging. What about a more modest 512?</p>
<div class="highlight"><pre><span></span><span class="n">I</span><span class="o">:</span> <span class="n">Resetting</span> <span class="n">PHBs</span> <span class="n">and</span> <span class="n">training</span> <span class="n">links</span><span class="o">...</span>
<span class="o">[</span>   <span class="mf">55.293343496</span><span class="o">,</span><span class="mi">5</span><span class="o">]</span> <span class="n">PCI</span><span class="o">:</span> <span class="n">Probing</span> <span class="n">slots</span><span class="o">...</span>
<span class="o">[</span>   <span class="mf">56.364337089</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">56.364973775</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">57.127964432</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">57.128545637</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">57.395489618</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">57.396048285</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">58.145944205</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">58.146465795</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">58.404954853</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">58.405485438</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0000</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.178957315</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.179524173</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.198502097</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">02.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.198982582</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">02.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.435096197</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">60.435634380</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">61.171512439</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">61.172029071</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">61.425416049</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">61.425934524</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">62.172664549</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">62.173186458</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0001</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">63.434516732</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">63.435062124</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">02</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">64.177567772</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">64.178099773</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">03</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">64.431763989</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">64.432285000</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">04</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">65.180506790</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">65.181049905</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">05</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">65.432105600</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
<span class="o">[</span>   <span class="mf">65.432654326</span><span class="o">,</span><span class="mi">3</span><span class="o">]</span> <span class="n">PHB</span><span class="err">#</span><span class="mi">0002</span><span class="o">:</span><span class="mi">06</span><span class="o">:</span><span class="mf">01.0</span> <span class="n">pci_find_ecap</span> <span class="n">hit</span> <span class="n">a</span> <span class="n">loop</span> <span class="o">!</span>
</pre></div>


<p>(That isn't good)</p>
<div class="highlight"><pre><span></span>[   66.177240655,5] PCI Summary:
[   66.177906083,5] PHB#0000:00:00.0 [ROOT] 1014 03dc R:00 C:060400 B:01..07 
[   66.178760724,5] PHB#0000:01:00.0 [ETOX] 1b36 000e R:00 C:060400 B:02..07 
[   66.179501494,5] PHB#0000:02:01.0 [ETOX] 1b36 000e R:00 C:060400 B:03..07 
[   66.180227773,5] PHB#0000:03:01.0 [ETOX] 1b36 000e R:00 C:060400 B:04..07 
[   66.180953149,5] PHB#0000:04:01.0 [ETOX] 1b36 000e R:00 C:060400 B:05..07 
[   66.181673576,5] PHB#0000:05:01.0 [ETOX] 1b36 000e R:00 C:060400 B:06..07 
[   66.182395253,5] PHB#0000:06:01.0 [ETOX] 1b36 000e R:00 C:060400 B:07..07 
[   66.183207399,5] PHB#0000:07:02.0 [PCID] 1af4 1001 R:00 C:010000 (          scsi) 
[   66.183969138,5] PHB#0000:07:03.0 [PCID] 1af4 1001 R:00 C:010000 (          scsi) 
</pre></div>


<p>(a lot more of this)</p>
<div class="highlight"><pre><span></span><span class="n">[</span>   <span class="m">67.055196945</span><span class="p">,</span><span class="m">5</span><span class="n">]</span> <span class="n">PHB</span><span class="c1">#0002:02:1e.0 [PCID] 1af4 1001 R:00 C:010000 (          scsi) </span>
<span class="n">[</span>   <span class="m">67.055926264</span><span class="p">,</span><span class="m">5</span><span class="n">]</span> <span class="n">PHB</span><span class="c1">#0002:02:1f.0 [PCID] 1af4 1001 R:00 C:010000 (          scsi) </span>
<span class="n">[</span>   <span class="m">67.094591773</span><span class="p">,</span><span class="m">5</span><span class="n">]</span> <span class="n">INIT</span><span class="o">:</span> <span class="n">Waiting</span> <span class="n">for</span> <span class="n">kernel...</span>
<span class="n">[</span>   <span class="m">67.095105901</span><span class="p">,</span><span class="m">5</span><span class="n">]</span> <span class="n">INIT</span><span class="o">:</span> <span class="m">64</span><span class="o">-</span><span class="n">bit</span> <span class="n">LE</span> <span class="n">kernel</span> <span class="n">discovered</span>
<span class="n">[</span>   <span class="m">68.095749915</span><span class="p">,</span><span class="m">5</span><span class="n">]</span> <span class="n">INIT</span><span class="o">:</span> <span class="n">Starting</span> <span class="n">kernel</span> <span class="n">at</span> <span class="mh">0x20010000</span><span class="p">,</span> <span class="n">fdt</span> <span class="n">at</span> <span class="mh">0x3075d270</span> <span class="m">168365</span> <span class="n">bytes</span>

<span class="n">zImage</span> <span class="n">starting</span><span class="o">:</span> <span class="n">loaded</span> <span class="n">at</span> <span class="mh">0x0000000020010000</span> <span class="p">(</span><span class="n">sp</span><span class="o">:</span> <span class="mh">0x0000000020d30ee8</span><span class="p">)</span>
<span class="n">Allocating</span> <span class="mh">0x1dc5098</span> <span class="n">bytes</span> <span class="n">for</span> <span class="n">kernel...</span>
<span class="nf">Decompressing </span><span class="p">(</span><span class="mh">0x0000000000000000</span> <span class="o">&lt;-</span> <span class="mh">0x000000002001f000</span><span class="o">:</span><span class="mh">0x0000000020d2e578</span><span class="p">)</span><span class="kc">...</span>
<span class="n">Done</span><span class="o">!</span> <span class="n">Decompressed</span> <span class="mh">0x1c22900</span> <span class="n">bytes</span>

<span class="n">Linux</span><span class="o">/</span><span class="n">PowerPC</span> <span class="n">load</span><span class="o">:</span> 
<span class="n">Finalizing</span> <span class="n">device</span> <span class="n">tree...</span> <span class="n">flat</span> <span class="n">tree</span> <span class="n">at</span> <span class="mh">0x20d320a0</span>
<span class="n">[</span>   <span class="m">10.120562</span><span class="n">]</span> <span class="n">watchdog</span><span class="o">:</span> <span class="n">CPU</span> <span class="m">0</span> <span class="n">self</span><span class="o">-</span><span class="n">detected</span> <span class="n">hard</span> <span class="n">LOCKUP</span> <span class="o">@</span> <span class="n">pnv_pci_cfg_write</span><span class="m">+0</span><span class="n">x88</span><span class="o">/</span><span class="mh">0xa4</span>
<span class="n">[</span>   <span class="m">10.120746</span><span class="n">]</span> <span class="n">watchdog</span><span class="o">:</span> <span class="n">CPU</span> <span class="m">0</span> <span class="n">TB</span><span class="o">:</span><span class="m">50402010473</span><span class="p">,</span> <span class="n">last</span> <span class="n">heartbeat</span> <span class="n">TB</span><span class="o">:</span><span class="m">45261673150</span> <span class="p">(</span><span class="m">10039</span><span class="n">ms</span> <span class="n">ago</span><span class="p">)</span>
<span class="n">[</span>   <span class="m">10.120808</span><span class="n">]</span> <span class="n">Modules</span> <span class="n">linked</span> <span class="n">in</span><span class="o">:</span>
<span class="n">[</span>   <span class="m">10.120906</span><span class="n">]</span> <span class="n">CPU</span><span class="o">:</span> <span class="m">0</span> <span class="n">PID</span><span class="o">:</span> <span class="m">1</span> <span class="n">Comm</span><span class="o">:</span> <span class="n">swapper</span><span class="o">/</span><span class="m">0</span> <span class="n">Not</span> <span class="n">tainted</span> <span class="m">5.0.5</span><span class="o">-</span><span class="n">openpower1</span> <span class="c1">#2</span>
<span class="n">[</span>   <span class="m">10.120956</span><span class="n">]</span> <span class="n">NIP</span><span class="o">:</span>  <span class="n">c000000000058544</span> <span class="n">LR</span><span class="o">:</span> <span class="n">c00000000004d458</span> <span class="n">CTR</span><span class="o">:</span> <span class="m">0000000030052768</span>
<span class="n">[</span>   <span class="m">10.121006</span><span class="n">]</span> <span class="n">REGS</span><span class="o">:</span> <span class="n">c0000000fff5bd70</span> <span class="n">TRAP</span><span class="o">:</span> <span class="m">0900</span>   <span class="n">Not</span> <span class="nf">tainted  </span><span class="p">(</span><span class="m">5.0.5</span><span class="o">-</span><span class="n">openpower1</span><span class="p">)</span>
<span class="n">[</span>   <span class="m">10.121030</span><span class="n">]</span> <span class="n">MSR</span><span class="o">:</span>  <span class="m">9000000002009033</span> <span class="o">&lt;</span><span class="n">SF</span><span class="p">,</span><span class="n">HV</span><span class="p">,</span><span class="n">VEC</span><span class="p">,</span><span class="n">EE</span><span class="p">,</span><span class="n">ME</span><span class="p">,</span><span class="n">IR</span><span class="p">,</span><span class="n">DR</span><span class="p">,</span><span class="n">RI</span><span class="p">,</span><span class="n">LE</span><span class="o">&gt;</span>  <span class="n">CR</span><span class="o">:</span> <span class="m">48002482</span>  <span class="n">XER</span><span class="o">:</span> <span class="m">20000000</span>
<span class="n">[</span>   <span class="m">10.121215</span><span class="n">]</span> <span class="n">CFAR</span><span class="o">:</span> <span class="n">c00000000004d454</span> <span class="n">IRQMASK</span><span class="o">:</span> <span class="m">1</span> 
<span class="n">[</span>   <span class="m">10.121260</span><span class="n">]</span> <span class="n">GPR00</span><span class="o">:</span> <span class="m">00000000300051</span><span class="n">ec</span> <span class="n">c0000000fd7c3130</span> <span class="n">c000000001bcaf00</span> <span class="m">0000000000000000</span> 
<span class="n">[</span>   <span class="m">10.121368</span><span class="n">]</span> <span class="n">GPR04</span><span class="o">:</span> <span class="m">0000000048002482</span> <span class="n">c000000000058544</span> <span class="m">9000000002009033</span> <span class="m">0000000031</span><span class="n">c40060</span> 
<span class="n">[</span>   <span class="m">10.121476</span><span class="n">]</span> <span class="n">GPR08</span><span class="o">:</span> <span class="m">0000000000000000</span> <span class="m">0000000031</span><span class="n">c40060</span> <span class="n">c00000000004d46c</span> <span class="m">9000000002001003</span> 
<span class="n">[</span>   <span class="m">10.121584</span><span class="n">]</span> <span class="n">GPR12</span><span class="o">:</span> <span class="m">0000000031</span><span class="n">c40000</span> <span class="n">c000000001dd0000</span> <span class="n">c00000000000f560</span> <span class="m">0000000000000000</span> 
<span class="n">[</span>   <span class="m">10.121692</span><span class="n">]</span> <span class="n">GPR16</span><span class="o">:</span> <span class="m">0000000000000000</span> <span class="m">0000000000000000</span> <span class="m">0000000000000001</span> <span class="m">0000000000000000</span> 
<span class="n">[</span>   <span class="m">10.121800</span><span class="n">]</span> <span class="n">GPR20</span><span class="o">:</span> <span class="m">0000000000000000</span> <span class="m">0000000000000000</span> <span class="m">0000000000000000</span> <span class="m">0000000000000000</span> 
<span class="n">[</span>   <span class="m">10.121908</span><span class="n">]</span> <span class="n">GPR24</span><span class="o">:</span> <span class="m">0000000000000005</span> <span class="m">0000000000000000</span> <span class="m">0000000000000000</span> <span class="m">0000000000000104</span> 
<span class="n">[</span>   <span class="m">10.122016</span><span class="n">]</span> <span class="n">GPR28</span><span class="o">:</span> <span class="m">0000000000000002</span> <span class="m">0000000000000004</span> <span class="m">0000000000000086</span> <span class="n">c0000000fd9fba00</span> 
<span class="n">[</span>   <span class="m">10.122150</span><span class="n">]</span> <span class="n">NIP</span> <span class="n">[c000000000058544]</span> <span class="n">pnv_pci_cfg_write</span><span class="m">+0</span><span class="n">x88</span><span class="o">/</span><span class="mh">0xa4</span>
<span class="n">[</span>   <span class="m">10.122187</span><span class="n">]</span> <span class="n">LR</span> <span class="n">[c00000000004d458]</span> <span class="n">opal_return</span><span class="m">+0</span><span class="n">x14</span><span class="o">/</span><span class="mh">0x48</span>
<span class="n">[</span>   <span class="m">10.122204</span><span class="n">]</span> <span class="n">Call</span> <span class="n">Trace</span><span class="o">:</span>
<span class="n">[</span>   <span class="m">10.122251</span><span class="n">]</span> <span class="n">[c0000000fd7c3130]</span> <span class="n">[c000000000058544]</span> <span class="n">pnv_pci_cfg_write</span><span class="m">+0</span><span class="n">x88</span><span class="o">/</span><span class="mh">0xa4</span> <span class="p">(</span><span class="n">unreliable</span><span class="p">)</span>
<span class="n">[</span>   <span class="m">10.122332</span><span class="n">]</span> <span class="n">[c0000000fd7c3150]</span> <span class="n">[c0000000000585d0]</span> <span class="n">pnv_pci_write_config</span><span class="m">+0</span><span class="n">x70</span><span class="o">/</span><span class="mh">0x9c</span>
<span class="n">[</span>   <span class="m">10.122398</span><span class="n">]</span> <span class="n">[c0000000fd7c31a0]</span> <span class="n">[c000000000234fec]</span> <span class="n">pci_bus_write_config_word</span><span class="m">+0</span><span class="n">x74</span><span class="o">/</span><span class="mh">0x98</span>
<span class="n">[</span>   <span class="m">10.122458</span><span class="n">]</span> <span class="n">[c0000000fd7c31f0]</span> <span class="n">[c00000000023764c]</span> <span class="n">__pci_read_base</span><span class="m">+0</span><span class="n">x88</span><span class="o">/</span><span class="mh">0x3a4</span>
<span class="n">[</span>   <span class="m">10.122518</span><span class="n">]</span> <span class="n">[c0000000fd7c32c0]</span> <span class="n">[c000000000237a18]</span> <span class="n">pci_read_bases</span><span class="m">+0</span><span class="n">xb0</span><span class="o">/</span><span class="mh">0xc8</span>
<span class="n">[</span>   <span class="m">10.122605</span><span class="n">]</span> <span class="n">[c0000000fd7c3300]</span> <span class="n">[c0000000002384bc]</span> <span class="n">pci_setup_device</span><span class="m">+0</span><span class="n">x4f8</span><span class="o">/</span><span class="mh">0x5b0</span>
<span class="n">[</span>   <span class="m">10.122670</span><span class="n">]</span> <span class="n">[c0000000fd7c33a0]</span> <span class="n">[c000000000238d9c]</span> <span class="n">pci_scan_single_device</span><span class="m">+0</span><span class="n">x9c</span><span class="o">/</span><span class="mh">0xd4</span>
<span class="n">[</span>   <span class="m">10.122729</span><span class="n">]</span> <span class="n">[c0000000fd7c33f0]</span> <span class="n">[c000000000238e2c]</span> <span class="n">pci_scan_slot</span><span class="m">+0</span><span class="n">x58</span><span class="o">/</span><span class="mh">0xf4</span>
<span class="n">[</span>   <span class="m">10.122796</span><span class="n">]</span> <span class="n">[c0000000fd7c3430]</span> <span class="n">[c000000000239eb8]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x40</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.122861</span><span class="n">]</span> <span class="n">[c0000000fd7c34a0]</span> <span class="n">[c000000000239e34]</span> <span class="n">pci_scan_bridge_extend</span><span class="m">+0</span><span class="n">x4d4</span><span class="o">/</span><span class="mh">0x504</span>
<span class="n">[</span>   <span class="m">10.122928</span><span class="n">]</span> <span class="n">[c0000000fd7c3580]</span> <span class="n">[c00000000023a0f8]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x280</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.122993</span><span class="n">]</span> <span class="n">[c0000000fd7c35f0]</span> <span class="n">[c000000000239e34]</span> <span class="n">pci_scan_bridge_extend</span><span class="m">+0</span><span class="n">x4d4</span><span class="o">/</span><span class="mh">0x504</span>
<span class="n">[</span>   <span class="m">10.123059</span><span class="n">]</span> <span class="n">[c0000000fd7c36d0]</span> <span class="n">[c00000000023a0f8]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x280</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.123124</span><span class="n">]</span> <span class="n">[c0000000fd7c3740]</span> <span class="n">[c000000000239e34]</span> <span class="n">pci_scan_bridge_extend</span><span class="m">+0</span><span class="n">x4d4</span><span class="o">/</span><span class="mh">0x504</span>
<span class="n">[</span>   <span class="m">10.123191</span><span class="n">]</span> <span class="n">[c0000000fd7c3820]</span> <span class="n">[c00000000023a0f8]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x280</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.123256</span><span class="n">]</span> <span class="n">[c0000000fd7c3890]</span> <span class="n">[c000000000239b5c]</span> <span class="n">pci_scan_bridge_extend</span><span class="m">+0</span><span class="n">x1fc</span><span class="o">/</span><span class="mh">0x504</span>
<span class="n">[</span>   <span class="m">10.123322</span><span class="n">]</span> <span class="n">[c0000000fd7c3970]</span> <span class="n">[c00000000023a064]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x1ec</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.123388</span><span class="n">]</span> <span class="n">[c0000000fd7c39e0]</span> <span class="n">[c000000000239b5c]</span> <span class="n">pci_scan_bridge_extend</span><span class="m">+0</span><span class="n">x1fc</span><span class="o">/</span><span class="mh">0x504</span>
<span class="n">[</span>   <span class="m">10.123454</span><span class="n">]</span> <span class="n">[c0000000fd7c3ac0]</span> <span class="n">[c00000000023a064]</span> <span class="n">pci_scan_child_bus_extend</span><span class="m">+0</span><span class="n">x1ec</span><span class="o">/</span><span class="mh">0x2a8</span>
<span class="n">[</span>   <span class="m">10.123516</span><span class="n">]</span> <span class="n">[c0000000fd7c3b30]</span> <span class="n">[c000000000030dcc]</span> <span class="n">pcibios_scan_phb</span><span class="m">+0</span><span class="n">x134</span><span class="o">/</span><span class="mh">0x1f4</span>
<span class="n">[</span>   <span class="m">10.123574</span><span class="n">]</span> <span class="n">[c0000000fd7c3bd0]</span> <span class="n">[c00000000100a800]</span> <span class="n">pcibios_init</span><span class="m">+0</span><span class="n">x9c</span><span class="o">/</span><span class="mh">0xbc</span>
<span class="n">[</span>   <span class="m">10.123635</span><span class="n">]</span> <span class="n">[c0000000fd7c3c50]</span> <span class="n">[c00000000000f398]</span> <span class="n">do_one_initcall</span><span class="m">+0</span><span class="n">x80</span><span class="o">/</span><span class="mh">0x15c</span>
<span class="n">[</span>   <span class="m">10.123698</span><span class="n">]</span> <span class="n">[c0000000fd7c3d10]</span> <span class="n">[c000000001000e94]</span> <span class="n">kernel_init_freeable</span><span class="m">+0</span><span class="n">x248</span><span class="o">/</span><span class="mh">0x24c</span>
<span class="n">[</span>   <span class="m">10.123756</span><span class="n">]</span> <span class="n">[c0000000fd7c3db0]</span> <span class="n">[c00000000000f574]</span> <span class="n">kernel_init</span><span class="m">+0</span><span class="n">x1c</span><span class="o">/</span><span class="mh">0x150</span>
<span class="n">[</span>   <span class="m">10.123820</span><span class="n">]</span> <span class="n">[c0000000fd7c3e20]</span> <span class="n">[c00000000000b72c]</span> <span class="n">ret_from_kernel_thread</span><span class="m">+0</span><span class="n">x5c</span><span class="o">/</span><span class="mh">0x70</span>
<span class="n">[</span>   <span class="m">10.123854</span><span class="n">]</span> <span class="n">Instruction</span> <span class="n">dump</span><span class="o">:</span>
<span class="n">[</span>   <span class="m">10.123885</span><span class="n">]</span> <span class="m">7</span><span class="n">d054378</span> <span class="m">4</span><span class="n">bff56f5</span> <span class="m">60000000</span> <span class="m">38600000</span> <span class="m">38210020</span> <span class="n">e8010010</span> <span class="m">7</span><span class="n">c0803a6</span> <span class="m">4e800020</span> 
<span class="n">[</span>   <span class="m">10.124022</span><span class="n">]</span> <span class="n">e86a0018</span> <span class="m">54</span><span class="n">c6043e</span> <span class="m">7</span><span class="n">d054378</span> <span class="m">4</span><span class="n">bff5731</span> <span class="o">&lt;</span><span class="m">60000000</span><span class="o">&gt;</span> <span class="m">4</span><span class="n">bffffd8</span> <span class="n">e86a0018</span> <span class="m">7</span><span class="n">d054378</span> 
<span class="n">[</span>   <span class="m">10.124180</span><span class="n">]</span> <span class="n">Kernel</span> <span class="n">panic</span> <span class="o">-</span> <span class="n">not</span> <span class="n">syncing</span><span class="o">:</span> <span class="n">Hard</span> <span class="n">LOCKUP</span>
<span class="n">[</span>   <span class="m">10.124232</span><span class="n">]</span> <span class="n">CPU</span><span class="o">:</span> <span class="m">0</span> <span class="n">PID</span><span class="o">:</span> <span class="m">1</span> <span class="n">Comm</span><span class="o">:</span> <span class="n">swapper</span><span class="o">/</span><span class="m">0</span> <span class="n">Not</span> <span class="n">tainted</span> <span class="m">5.0.5</span><span class="o">-</span><span class="n">openpower1</span> <span class="c1">#2</span>
<span class="n">[</span>   <span class="m">10.124251</span><span class="n">]</span> <span class="n">Call</span> <span class="n">Trace</span><span class="o">:</span>
</pre></div>


<p>I wonder if I can submit that bug without someone throwing something at my desk.</p></div>
    <footer>
<div class="sharing">
</div>    </footer>
  </article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript></div>
  </section>
</div>
<aside class="sidebar">
  <section>
    <h1>Recent Posts</h1>
    <ul id="recent_posts">
      <li class="post">
          <a href="https://sthbrx.github.io/blog/2021/03/04/fuzzing-grub-part-1/">Fuzzing grub: part 1</a>
      </li>
      <li class="post">
          <a href="https://sthbrx.github.io/blog/2020/01/22/linuxconfau-2020-recap/">linux.conf.au 2020 recap</a>
      </li>
      <li class="post">
          <a href="https://sthbrx.github.io/blog/2019/12/18/rfid-and-hrfid/">rfid and hrfid</a>
      </li>
      <li class="post">
          <a href="https://sthbrx.github.io/blog/2019/06/18/ten-thousand-disks/">TEN THOUSAND DISKS</a>
      </li>
      <li class="post">
          <a href="https://sthbrx.github.io/blog/2019/05/29/dm-crypt-password-prompts-proliferate/">dm-crypt: Password Prompts Proliferate</a>
      </li>
    </ul>
  </section>
  <section>
      
    <h1>Categories</h1>
    <ul id="recent_posts">
        <li><a href="https://sthbrx.github.io/category/development.html">Development</a></li>
        <li><a href="https://sthbrx.github.io/category/education.html">Education</a></li>
        <li><a href="https://sthbrx.github.io/category/openpower.html">OpenPOWER</a></li>
        <li><a href="https://sthbrx.github.io/category/performance.html">Performance</a></li>
        <li><a href="https://sthbrx.github.io/category/petitboot.html">Petitboot</a></li>
        <li><a href="https://sthbrx.github.io/category/snowpatch.html">snowpatch</a></li>
        <li><a href="https://sthbrx.github.io/category/virtualisation-and-emulation.html">Virtualisation and Emulation</a></li>
    </ul>
  </section>
 

  <section>
  <h1>Tags</h1>
    <a href="https://sthbrx.github.io/tag/testing.html">testing</a>,    <a href="https://sthbrx.github.io/tag/conferences.html">conferences</a>,    <a href="https://sthbrx.github.io/tag/instruction-set-architecture.html">Instruction Set Architecture</a>,    <a href="https://sthbrx.github.io/tag/openpower.html">openpower</a>,    <a href="https://sthbrx.github.io/tag/linux.html">linux</a>,    <a href="https://sthbrx.github.io/tag/firmware.html">firmware</a>,    <a href="https://sthbrx.github.io/tag/goodposts.html">goodposts</a>,    <a href="https://sthbrx.github.io/tag/realcontent.html">realcontent</a>,    <a href="https://sthbrx.github.io/tag/madposting.html">madposting</a>,    <a href="https://sthbrx.github.io/tag/op-test.html">op-test</a>,    <a href="https://sthbrx.github.io/tag/qemu.html">qemu</a>,    <a href="https://sthbrx.github.io/tag/pci.html">pci</a>,    <a href="https://sthbrx.github.io/tag/sparseposting.html">sparseposting</a>,    <a href="https://sthbrx.github.io/tag/petitboot.html">petitboot</a>,    <a href="https://sthbrx.github.io/tag/security.html">security</a>,    <a href="https://sthbrx.github.io/tag/vscode.html">vscode</a>,    <a href="https://sthbrx.github.io/tag/code.html">code</a>,    <a href="https://sthbrx.github.io/tag/openbmc.html">openbmc</a>,    <a href="https://sthbrx.github.io/tag/ipmi.html">ipmi</a>,    <a href="https://sthbrx.github.io/tag/opencapi.html">opencapi</a>,    <a href="https://sthbrx.github.io/tag/openpower-summit.html">openpower summit</a>,    <a href="https://sthbrx.github.io/tag/easyposts.html">easyposts</a>,    <a href="https://sthbrx.github.io/tag/linuxboot.html">linuxboot</a>,    <a href="https://sthbrx.github.io/tag/google.html">google</a>,    <a href="https://sthbrx.github.io/tag/intel.html">intel</a>,    <a href="https://sthbrx.github.io/tag/osfc.html">osfc</a>,    <a href="https://sthbrx.github.io/tag/shortposts.html">shortposts</a>,    <a href="https://sthbrx.github.io/tag/facebook.html">facebook</a>,    <a href="https://sthbrx.github.io/tag/performance.html">performance</a>,    <a href="https://sthbrx.github.io/tag/phoronix.html">phoronix</a>,    <a href="https://sthbrx.github.io/tag/benchmarks.html">benchmarks</a>,    <a href="https://sthbrx.github.io/tag/kernel.html">kernel</a>,    <a href="https://sthbrx.github.io/tag/stupid-ideas.html">stupid ideas</a>,    <a href="https://sthbrx.github.io/tag/network.html">network</a>,    <a href="https://sthbrx.github.io/tag/power.html">power</a>,    <a href="https://sthbrx.github.io/tag/xdp.html">xdp</a>,    <a href="https://sthbrx.github.io/tag/networking.html">networking</a>,    <a href="https://sthbrx.github.io/tag/remoteposts.html">remoteposts</a>,    <a href="https://sthbrx.github.io/tag/ceph.html">ceph</a>,    <a href="https://sthbrx.github.io/tag/raid.html">raid</a>,    <a href="https://sthbrx.github.io/tag/storage.html">storage</a>,    <a href="https://sthbrx.github.io/tag/erasure.html">erasure</a>,    <a href="https://sthbrx.github.io/tag/lustre.html">lustre</a>,    <a href="https://sthbrx.github.io/tag/hpc.html">hpc</a>,    <a href="https://sthbrx.github.io/tag/nvlink.html">nvlink</a>,    <a href="https://sthbrx.github.io/tag/namd.html">namd</a>,    <a href="https://sthbrx.github.io/tag/cuda.html">cuda</a>,    <a href="https://sthbrx.github.io/tag/gpu.html">gpu</a>,    <a href="https://sthbrx.github.io/tag/minsky.html">minsky</a>,    <a href="https://sthbrx.github.io/tag/s822lc-for-hpc.html">S822LC for hpc</a>,    <a href="https://sthbrx.github.io/tag/debug.html">debug</a>,    <a href="https://sthbrx.github.io/tag/virtualisation.html">virtualisation</a>,    <a href="https://sthbrx.github.io/tag/dmesg.html">dmesg</a>,    <a href="https://sthbrx.github.io/tag/printk.html">printk</a>,    <a href="https://sthbrx.github.io/tag/boot.html">boot</a>,    <a href="https://sthbrx.github.io/tag/early.html">early</a>,    <a href="https://sthbrx.github.io/tag/error.html">error</a>,    <a href="https://sthbrx.github.io/tag/centos.html">centos</a>,    <a href="https://sthbrx.github.io/tag/centos7.html">centos7</a>,    <a href="https://sthbrx.github.io/tag/p8.html">p8</a>,    <a href="https://sthbrx.github.io/tag/bmc.html">bmc</a>,    <a href="https://sthbrx.github.io/tag/rhel.html">RHEL</a>,    <a href="https://sthbrx.github.io/tag/skiroot.html">skiroot</a>,    <a href="https://sthbrx.github.io/tag/devmapper.html">devmapper</a>,    <a href="https://sthbrx.github.io/tag/lvm.html">lvm</a>,    <a href="https://sthbrx.github.io/tag/cgroups.html">cgroups</a>,    <a href="https://sthbrx.github.io/tag/numa.html">numa</a>,    <a href="https://sthbrx.github.io/tag/development.html">Development</a>,    <a href="https://sthbrx.github.io/tag/netboot.html">netboot</a>,    <a href="https://sthbrx.github.io/tag/pxe.html">pxe</a>,    <a href="https://sthbrx.github.io/tag/education.html">Education</a>,    <a href="https://sthbrx.github.io/tag/work-experience.html">work experience</a>,    <a href="https://sthbrx.github.io/tag/asm.html">asm</a>,    <a href="https://sthbrx.github.io/tag/vdso.html">vdso</a>,    <a href="https://sthbrx.github.io/tag/snowpatch.html">snowpatch</a>,    <a href="https://sthbrx.github.io/tag/tools.html">tools</a>,    <a href="https://sthbrx.github.io/tag/intern.html">intern</a>,    <a href="https://sthbrx.github.io/tag/srop.html">SROP</a>,    <a href="https://sthbrx.github.io/tag/mitigation.html">mitigation</a>,    <a href="https://sthbrx.github.io/tag/double.html">double</a>,    <a href="https://sthbrx.github.io/tag/float.html">float</a>,    <a href="https://sthbrx.github.io/tag/hex.html">hex</a>,    <a href="https://sthbrx.github.io/tag/debugging.html">debugging</a>,    <a href="https://sthbrx.github.io/tag/skiboot.html">skiboot</a>,    <a href="https://sthbrx.github.io/tag/opal.html">OPAL</a>,    <a href="https://sthbrx.github.io/tag/fsp.html">FSP</a>,    <a href="https://sthbrx.github.io/tag/patches.html">patches</a>,    <a href="https://sthbrx.github.io/tag/based16.html">based16</a>,    <a href="https://sthbrx.github.io/tag/linux-gods.html">Linux Gods</a>,    <a href="https://sthbrx.github.io/tag/ozlabs.html">Ozlabs</a>,    <a href="https://sthbrx.github.io/tag/offtopic.html">offtopic</a>,    <a href="https://sthbrx.github.io/tag/autoboot.html">autoboot</a>,    <a href="https://sthbrx.github.io/tag/kexec.html">kexec</a>,    <a href="https://sthbrx.github.io/tag/aufs.html">aufs</a>,    <a href="https://sthbrx.github.io/tag/overlay.html">overlay</a>,    <a href="https://sthbrx.github.io/tag/php.html">php</a>,    <a href="https://sthbrx.github.io/tag/capi.html">capi</a>  </section>

  <section>
    <h1><a href="https://sthbrx.github.io/authors.html">Authors</a></h1>
    <ul id="authors_list">
        <li><a href="https://sthbrx.github.io/author/alastair-dsilva.html">Alastair D'Silva</a></li>
        <li><a href="https://sthbrx.github.io/author/andrew-donnellan.html">Andrew Donnellan</a></li>
        <li><a href="https://sthbrx.github.io/author/anton-blanchard.html">Anton Blanchard</a></li>
        <li><a href="https://sthbrx.github.io/author/callum-scarvell.html">Callum Scarvell</a></li>
        <li><a href="https://sthbrx.github.io/author/cyril-bur.html">Cyril Bur</a></li>
        <li><a href="https://sthbrx.github.io/author/daniel-axtens.html">Daniel Axtens</a></li>
        <li><a href="https://sthbrx.github.io/author/daniel-black.html">Daniel Black</a></li>
        <li><a href="https://sthbrx.github.io/author/joel-stanley.html">Joel Stanley</a></li>
        <li><a href="https://sthbrx.github.io/author/nick-piggin.html">Nick Piggin</a></li>
        <li><a href="https://sthbrx.github.io/author/rashmica-gupta.html">Rashmica Gupta</a></li>
        <li><a href="https://sthbrx.github.io/author/rohan-mclure.html">Rohan McLure</a></li>
        <li><a href="https://sthbrx.github.io/author/russell-currey.html">Russell Currey</a></li>
        <li><a href="https://sthbrx.github.io/author/samuel-mendoza-jonas.html">Samuel Mendoza-Jonas</a></li>
        <li><a href="https://sthbrx.github.io/author/suraj-jitindar-singh.html">Suraj Jitindar Singh</a></li>
    </ul>
  </section>


    <section>
        <h1>Social</h1>
        <ul>
            <li><a href="https://sthbrx.github.io/rss.xml" type="application/rss+xml" rel="alternate">RSS</a></li>
            <li><a href="https://github.com/sthbrx/" target="_blank">GitHub</a></li>
            <li><a href="https://lists.ozlabs.org/listinfo/linuxppc-dev" target="_blank">linuxppc mailing list</a></li>
            <li><a href="https://lists.ozlabs.org/listinfo/skiboot" target="_blank">Skiboot mailing list</a></li>
        </ul>
    </section>
    <section>
        <h1>Blogroll</h1>
        <ul>
            <li><a href="http://ozlabs.org" target="_blank">OzLabs</a></li>
        </ul>
    </section>

    <section>
        <h1>Disclaimer</h1>
        <div>
This blog represents the views of the individual authors, and doesn't necessarily represent IBM's positions, strategies or opinions.        </div>
    </section>
</aside>    </div>
  </div>
  <footer role="contentinfo"><p>
    Copyright &copy;  2015&ndash;2021  OzLabs &mdash;
  <span class="credit">Powered by <a href="http://getpelican.com">Pelican</a></span>
</p></footer>
  <script type="text/javascript">
    var disqus_shortname = 'sthbrx';
    var disqus_identifier = '/blog/2019/06/18/ten-thousand-disks/';
    var disqus_url = 'https://sthbrx.github.io/blog/2019/06/18/ten-thousand-disks/';
    var disqus_title = 'TEN THOUSAND DISKS';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = "//" + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
     })();
  </script>
</body>
</html>